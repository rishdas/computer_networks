Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International dddsPaper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International ddds

Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to  the  puppet.  We  were motivated  by  the  idea  of  creating  a complete mechatronic system where we can give music as an input  and  simultaneous  motions  of  motor,  according to frequency feature of music, as an output. In this paper we have demonstrated our working model of   autonomous  string  puppet  which  performs  different  moves according  to  musically  controlled  motion  of  motors.  These different moves are in accordance with frequency of the input signal. Input is passed to 4 different filters and based on filters output, motion or steps are activated to puppet through motors.   So overall our paper constitute of three tasks : (a)Mechanical design             Itconsists  of  a  puppet  with  one  side  of  string connected to hands and legs and the other    end  of  the  string is operated with stepper motor. (b)Usage of filter  Following  2  types  of  filters  are  designed  and implemented: 1.Analog Filter 2.Digital Butterworth filter (c)Motion control of puppet using stepper motors             According  to  music  i/p  we  have  assigned different moves to our puppet whose motion is controlled by the stepper motors using string attached to it. II.MECHANICAL DESIGN The  puppet  is  attached  with  5  strings  of  which  1  string  is attached to head and bears the weight of the puppet. From the remaining 4, 2 are attached to the hands and 2 are attached to the legs. These are attached in such a way, so as to acquire 8 different clean steps.  The design is as follows:-     A.Puppeteer mechanism Considering interference of puppet in motion and the space required  for  puppet,  the  simple  pulley  string  assembly  is chosen as shown in figure.  
III.ANALOG FILTER DESIGNING AND IMPLEMENTATIONA two-pole RC analog low- pass filter has been used to pass the  lower  frequencies,  removing  any  high  frequency.  The resistor  values  were  chosen  as  1KOhm  each  and  capacitor values  as  0.1uF  to  give  a  suitable  time  constant  for  the sampling frequency.  At the current sampling rate of 2kHz, we were  able  to  filter  out  the  treble  so  that  we  could  use  this typical music as an input, for decoding. We could accurately detect  the  highest  frequency  of  1kHz.  Thus,  filtering, removing treble and DC biasing the signal gives a processed and conditioned output from the source ready to be fed into the analog to Digital Converters.  Fig. 1  Pspice design for 2nd order analog low pass Filter with cut off frequency 1 Khz.   Fig. 1.Example of a figure caption. (figure caption)Fig. 2.asdFig. 3.das   Fig. 2 Pspice simulation for 2nd order low pass filter IV.DESIGNING OF DIGITAL FILTERSFour   digital   filters   were   first   designed  and  then implemented  in  hardware  to  distinguish  between  various frequency-components  present  in  processed  music  signal. Responses of different type of filters were tested for different test  inputs,  but  we  found  Butterworth  filter  apt  for  the following application.  Order of the filter was also chosen such that it may not be too  complex  to  implement  in  microcontroller,  for  real  time processing. The  implementation  of  filter  was  done  by  basic digital filter difference equation. Equation (1) is Digital Filter Difference Equation              (1)  We have also implemented a digital low pass filter and 3 band  pass  filter  in  software(Matlab).  We  found  the coefficients  in  Matlab  for  the  two-pole  Butterworth  Filter implemented digitally in the program.  We have implemented 4 filters r100hz 2nd order low pass  Butterworth filter  r200-400hz 2nd order band pass Butterworth filter r550-700hz 2nd order band pass Butterworth filter r850-1000hz 2nd order band pass Butterworth filter The coefficients of  various filters are obtained in matlab .In order to obtain the frequencies and PSD, matlab we can use below  method.  We  are  showing  for  200-400  hz  band  pass filter. Let Sampling Frequency = fs Hz  Then Higher cut off(Let wH) = 2*pi*200  Radians/SecLower cut off(Let  wL) = 2*pi*400 Radians/Sec Analog upper cut off (Let waH) = 2*fs*tan(wH/2*fs) Analog Lower cut off (Let waL) = 2*fs*tan(wL/2*fs) Pass bandwidth (Let W) = waH-WaL Geometric Center Frequency (Let Wo)=sqrt(waH*waL) Now   we   used   Matlab   in   build   function   lp2lp         (Lowpass  to  lowpass  analog  filter  transformation)  for prototype conversion. [B A]=lp2lp([1],[1 1.4142 1],Wo , W) Then using bilinear transformation we calculated coefficients (a,b).  [b a]=bilinear(B,A,fs).                 Plotting response of above design can be  verify using freqz function [h f]=freqz(b,a,512,fs)    Fig. 3 Pspice simulation for 2nd order low pass filter 
 Value of these coefficients (a, b) we will use at the time of implementation     of     these     designed     filters.   V.SAMPLER IMPLEMENTATIONAs  we  were  implementing  a sampler program  which  canobtain  sample  at  the  frequency  of  2  KHz,  this  required samples  to  be  taken  in  the  intervals  of  0.5  milliseconds. Microcontrollers  facilitate  a  utility  of  timer  interrupts.  As puppet  dance  must  be  synchronous  with  real  time  music, sampling  and  processing  as  well  as  the  motor  motion  was implemented  in  such  a  fashion  that  the  program  counter fetched  the  values  from  ADC  unit  (analog  to  digitalconvertors)  after  every  0.5 millisecond  using timer  interrupt implementation. It stores the value into a buffer. VI.FREQUENCY DOMAIN FEATURE EXTRACTION USING DIGITAL FILTERSFor  each  sample  we  calculated  the  response  using Equation(1)  from  each  filter  and  we  compared  these responses.  Cut-off  frequencies (lower  and higher  cut-off)  of the  filter,  which  produced  the  largest  response  value  for maximum  number  of  times,  when  compared  to  other counterparts,  were  the  limit  to  frequency-components  which were  predominant  in  the  input  signal  for  a  particular  time interval of 1 second. Thus we were able to identify the nature of  music  in the  frequency  domain, for  the time  period  of  1 second. Meanwhile, the timer interrupt calls have buffered the next 2000 samples.  As we had  to process around 2000 samples in 1 second and for each sample, 9 basic mathematic operations  were taking place,          therefore,          total          104000 (4*2000*[5(summation)+8(multiplication)])    operations  were recorded in each second. Atmega 16’s Crystal frequency is 24 MHz, thus, its Machine-cycle-frequency is 2MHz. As,Machine Cycle frequency = Crystal frequency/12 Arithmetic  operations  take  one  clock  machine  cycle,  except for multiplication and word-wide addition (ADIW and SBIW) which takes two machine cycles, so 2*106 is much larger then  72*106. Hence, such massive calculation load is well in reach in the capabilities of microcontrollers in our case. VII.DANCING STEPS USING STEPPER MOTORSStepper motors provide a control and speed which is best suited for our purpose of controlling the puppet. Instructions were sent to the motor driving circuit(consisting of chip l293d)  after each second on the basis of the filters responses. Motor drivers  further  sent  9v signal to  stepper  motors.  Dance  was performed   by simultaneous motion of limbs (Hands, Head, and Legs) using stepper motors. We had designed 8 different steps  of  dance.  These  dance  steps  were  designed  using simultaneous rotation speed and rotation direction of motors. The motor can acquire three states (No rotation, Anticlockwise and Clockwise rotation) and speed of motors can be controlled using delays while changing polarities in poles of motor. The change  in  the  speed  of  rotation  can  visually  represent  the lower and higher frequency band response for any time slot.      We had assigned two steps to each filter response, to avoid same dance steps for same kind of music. In case of getting response  from  the  same  filter  in  consecutive  time  slots,  we were  switching  between  these  two  dances  steps  to  avoid monotonicity.     VIII.RESULTSAs humans perceive music and dance by its beats, the beats are created due to constructive interference of various music signals. In case of constructive inference, amplitude of waves is amplified.  When the frequency of this signal falls in the cut off  frequencies  of  a  particular  filter,  the  filter amplifies  it further. Thus, in our experiment we were able to detect these beats using our algorithm.  Similarly, when we increased the tempo of the signal, the repetition of the beats increased in a time slot, which pushed the puppet into a high frequency dance steps.  Besides this, we had  connected  the  same  music  to  an  oscilloscope,  after  we passed  it  through  an  analog  low  pass  filter.  Thus, we  have examined our digital filters by creating logs on time scale.   IX.CONCLUSIONIn  this  paper,  we  have  discussed  autonomous  dancingpuppet, which dances according to the provided music signal. Real time processing of music signals on a dedicated system has enabled us to push the human perspective of music into machines. In future, we can bring element of improvisation in dancing  robots,  as;  in  current  era  dancing  robots  are programed to dance upon predefined steps. REFERENCES[1]S. M. Metev and V. P. Veiko, Laser Assisted Microtechnology, 2nd ed., R. M. Osgood, Jr., Ed.  Berlin, Germany: Springer-Verlag, 1998. [2]J.  Breckling,  Ed., The  Analysis  of  Directional  Time  Series: Applications  to  Wind  Speed  and  Direction,  ser.  Lecture  Notes  in Statistics.  Berlin, Germany: Springer, 1989, vol. 61. [3]S. Zhang, C. Zhu, J. K. O. Sin, and P. K. T. Mok, “A novel ultrathin elevated channel low-temperature poly-Si TFT,” IEEE Electron Device Lett., vol. 20, pp. 569–571, Nov. 1999. [4]M. Wegmuller, J. P. von der Weid,  P. Oberson, and N. Gisin, “High resolution  fiber  distributed  measurements  with  coherent  OFDR,”  in Proc. ECOC’00, 2000, paper 11.3.4, p. 109. [5]R. E. Sorace, V. S. Reinhardt, and S. A. Vaughn, “High-speed digital-to-RF converter,” U.S. Patent 5 668 842, Sept. 16, 1997. [6]Motion Control of a Robotic Puppet through a Hybrid Motion Capture Device - Kim Doang Nguyen, I-Ming Chen, Song Huat Yeo, Been-Lirn Duh  ,School  of  Mechanical  and  Aerospace  Engineering,  Nanyang Technological University, Singapore [7]I-Ming Chen , Shusong Xing and Song Huat Yeo “Robotic Marionette System  :  From  Mechatronic  Design  to  Manipulation”,2005  IEEE International Conference on Robotics and Biometrics. [8]Farshad  Arvin  and  Shyamala  Doraisamy  ,  “A  Real  Time  Signal Processing Technique for MIDI Generation”, 7th WSEAS International 
Paper Title* (use style: paper title) Subtitle as needed (paper subtitle)Authors Name/s per 1st Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desired Authors Name/s per 2nd Affiliation (Author) line 1 (of Affiliation): dept. name of organization line 2-name of organization, acronyms acceptable line 3-City, Country line 4-e-mail address if desiredAbstract— Puppetry is an antediluvian art form, assumed to have originated about 3,000 years ago. Puppets have  been used  to animate  and  communicate  the  messages  to  mass  and entertainment especially in India.  Most interesting fact about the puppetry  is  its  Humans  like  movements  in  addition  to  its theatrical applications.   In this article we have shown a novel approach for creating a robotic  puppet  which  synchronously  dances  (multifarious movements by simultaneous motion of limbs) to analog music signal based on its frequency features. The puppet is a mechatronic system that consists of a motor driver circuitry, implementation of input signal sampler using interrupt handling and digital filters on microcontroller - Atmega 16. Audio signal is processed with digital Butterworth filters and fed  to  a  motion  mapping  algorithm  which assigns  a  complex motion on the basis of the filter response. Filters are designed and tested in Matlab.  In our experiment we were able to start, stop and switch between the moves according to fed music signal with a lag of 1-2 second.   Keywords— auto string puppet, microcontroller, digital filters, entertainment RobotKeywords—component; formatting; style; styling; insert (key words) I.INTRODUCTIONWhere in digital signal processing, on one hand, real time signal processing is a contemporary phenomenon, on the other hand, puppetry is an antiquated but an  enduring art form. In the  modern  era,  as  we  are  able  to  control  the  motion  of machines using voice signal and we can teach a robot, dance steps  too,  now  the  only  thing  left  is  to  create  a  fully autonomous system where music itself suggests the dance steps to
